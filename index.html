<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRACE v0 - –î–Ω–µ–≤–Ω–∏–∫ –º—ã—Å–ª–µ–π</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.webmanifest">
    <meta name="theme-color" content="#f5f5f7">
    <link rel="apple-touch-icon" href="icon-192.png">
</head>
<body>
    <div class="container">
        <header class="app-header">
            <h1>TRACE v0</h1>
            <div class="header-actions">
                <button id="historyBtn" class="icon-btn" title="–ò—Å—Ç–æ—Ä–∏—è">üìã</button>
                <button id="exportBtn" class="icon-btn" title="–≠–∫—Å–ø–æ—Ä—Ç JSON">üì•</button>
            </div>
        </header>

        <main class="main-content">
            <!-- –≠–∫—Ä–∞–Ω –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ -->
            <section id="newEntryScreen" class="screen active">
                <div class="entry-header">
                    <h2>–ù–æ–≤–∞—è –∑–∞–ø–∏—Å—å</h2>
                    <div class="datetime" id="currentDateTime"></div>
                </div>
                
                <div class="entry-container">
                    <textarea 
                        id="entryText" 
                        placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à—É —Å–∏—Ç—É–∞—Ü–∏—é, –º—ã—Å–ª—å –∏–ª–∏ –∏–¥–µ—é..." 
                        autofocus
                        rows="10"
                    ></textarea>
                    
                    <div class="entry-stats">
                        <span id="charCount">0 —Å–∏–º–≤–æ–ª–æ–≤</span>
                    </div>
                </div>

                <div class="actions">
                    <button id="saveBtn" class="btn primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="analyzeBtn" class="btn secondary">üîç –ê–Ω–∞–ª–∏–∑</button>
                    <button id="clearBtn" class="btn text">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ -->
                <div id="analysisResult" class="analysis-result hidden">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞</h3>
                    
                    <div class="analysis-section">
                        <h4>üìù –†–µ–∑—é–º–µ</h4>
                        <p id="summaryText">-</p>
                    </div>
                    
                    <div class="analysis-grid">
                        <div class="analysis-card">
                            <h4>üè∑Ô∏è –¢–µ–º—ã</h4>
                            <div id="themesList" class="tags"></div>
                        </div>
                        
                        <div class="analysis-card">
                            <h4>üòä –≠–º–æ—Ü–∏–∏</h4>
                            <div id="emotionsList" class="tags"></div>
                        </div>
                    </div>
                    
                    <div class="analysis-section">
                        <h4>‚ùì –£—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å</h4>
                        <p id="questionText">-</p>
                    </div>
                    
                    <div class="analysis-section">
                        <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</h4>
                        <div id="recommendation" class="recommendation">
                            <span class="recommendation-badge" id="recommendationType">-</span>
                            <p id="recommendationText">-</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –∏—Å—Ç–æ—Ä–∏–∏ -->
            <section id="historyScreen" class="screen">
                <div class="screen-header">
                    <button id="backBtn" class="icon-btn back">‚Üê</button>
                    <h2>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø–∏—Å–µ–π</h2>
                </div>
                
                <div class="history-container">
                    <div id="historyList" class="history-list">
                        <!-- –ó–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        <div class="empty-state">
                            üìù –ó–∞–ø–∏—Å–µ–π –ø–æ–∫–∞ –Ω–µ—Ç
                        </div>
                    </div>
                </div>
            </section>

            <!-- –≠–∫—Ä–∞–Ω –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–ø–∏—Å–∏ -->
            <section id="viewEntryScreen" class="screen">
                <div class="screen-header">
                    <button id="backFromViewBtn" class="icon-btn back">‚Üê</button>
                    <h2>–ü—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–∏</h2>
                </div>
                
                <div class="entry-container">
                    <div class="entry-header">
                        <div class="datetime" id="viewEntryDate"></div>
                    </div>
                    
                    <div class="entry-content" id="viewEntryText"></div>
                    
                    <div class="analysis-result">
                        <h3>–ê–Ω–∞–ª–∏–∑ –æ—Ç <span id="analysisDate"></span></h3>
                        
                        <div class="analysis-section">
                            <h4>üìù –†–µ–∑—é–º–µ</h4>
                            <p id="viewSummary">-</p>
                        </div>
                        
                        <div class="analysis-grid">
                            <div class="analysis-card">
                                <h4>üè∑Ô∏è –¢–µ–º—ã</h4>
                                <div id="viewThemes" class="tags"></div>
                            </div>
                            
                            <div class="analysis-card">
                                <h4>üòä –≠–º–æ—Ü–∏–∏</h4>
                                <div id="viewEmotions" class="tags"></div>
                            </div>
                        </div>
                        
                        <div class="analysis-section">
                            <h4>‚ùì –£—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å</h4>
                            <p id="viewQuestion">-</p>
                        </div>
                        
                        <div class="analysis-section">
                            <h4>üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è</h4>
                            <div class="recommendation">
                                <span class="recommendation-badge" id="viewRecommendationType">-</span>
                                <p id="viewRecommendationText">-</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <div class="storage-status">
                <span id="storageInfo">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>
